import{r as t,D as I,E as S,v as P,F as k,q as D,G as E,j as s,B,H as F,o as T,L as G,S as l,T as u,I as R,J as W,K as A,M as H,W as M}from"./index-CFyAmOhw.js";import{u as U,C as q,T as h,I as z,L as J}from"./InputAdornment-DA6OPu1N.js";import{B as K}from"./react-toastify.esm-B4KUd5A9.js";import{C as N}from"./Card-CH3P47np.js";function V(){const[r,x]=t.useState(""),[o,g]=t.useState(""),p=I(),m=S(),[f,{isLoading:j}]=U(),{userInfo:i}=P(e=>e==null?void 0:e.auth),{search:v}=k(),w=new URLSearchParams(v).get("redirect")||"/signup";t.useEffect(()=>{i&&c.push("/dashboard")},[m,w,i]);const b=D(),c=E(),[n,L]=t.useState(!1),y=async e=>{var d;e.preventDefault();try{const a=await f({email:r,password:o}).unwrap();p(H({...a})),c.push("/dashboard")}catch(a){K.error(((d=a==null?void 0:a.data)==null?void 0:d.message)||a.error)}};if(j)return s.jsx(q,{});const C=s.jsxs(s.Fragment,{children:[s.jsxs(l,{spacing:3,children:[s.jsx(h,{name:"email",label:"Email address",value:r,onChange:e=>x(e.target.value)}),s.jsx(h,{name:"password",label:"Password",type:n?"text":"password",value:o,onChange:e=>g(e.target.value),InputProps:{endAdornment:s.jsx(z,{position:"end",children:s.jsx(W,{onClick:()=>L(!n),edge:"end",children:s.jsx(A,{icon:n?"eva:eye-fill":"eva:eye-off-fill"})})})}})]}),s.jsx(J,{fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"inherit",onClick:y,children:"Login"})]});return s.jsxs(B,{sx:{...F({color:T(b.palette.background.default,.9),imgUrl:"/assets/background/overlay_4.jpg"}),height:1},children:[s.jsx(G,{sx:{position:"fixed",top:{xs:16,md:24},left:{xs:16,md:24}}}),s.jsx(l,{alignItems:"center",justifyContent:"center",sx:{height:1},children:s.jsxs(N,{sx:{p:5,width:1,maxWidth:420},children:[s.jsx(u,{variant:"h4",children:"Sign in to Dashboard"}),s.jsxs(u,{variant:"body2",sx:{mt:2,mb:5},children:["Donâ€™t have an account?",s.jsx(R,{to:"/signup",children:"Get started"})]}),C]})})]})}function Z(){return s.jsxs(s.Fragment,{children:[s.jsx(M,{children:s.jsx("title",{children:" Login | Dashboard "})}),s.jsx(V,{})]})}export{Z as default};
