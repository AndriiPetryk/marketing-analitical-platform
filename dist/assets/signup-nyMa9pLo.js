import{r as n,F as E,G as F,w as T,H as D,q as R,j as e,B as A,I as W,o as G,L as H,S as m,T as M,K as g,M as x,O as N,W as q}from"./index-B-aEMq8e.js";import{b as z,a as K,T as r,I as f,L as O,B as j}from"./InputAdornment-BnaGbdhi.js";import{C as V}from"./Card-ALcuC4kO.js";import"./isMuiElement-BqREFxol.js";import"./Button-DF7jteLA.js";function _(){const[d,w]=n.useState(""),[l,v]=n.useState(""),[o,C]=n.useState(""),[i,S]=n.useState(""),b=E(),y=F(),[P,{isLoading:J}]=z(),{userInfo:c}=T(s=>s==null?void 0:s.auth),{search:I}=D(),L=new URLSearchParams(I).get("redirect")||"/";n.useEffect(()=>{c&&u.push("/dashboard")},[y,L,c]);const k=R(),u=K(),[a,h]=n.useState(!1),U=async s=>{var p;if(s.preventDefault(),o!==i)j.error("Passwords do not match");else try{const t=await P({username:d,email:l,password:o,passwordConfirm:i}).unwrap();b(N({...t})),u.push("/dashboard")}catch(t){j.error(((p=t==null?void 0:t.data)==null?void 0:p.message)||t.error)}},B=e.jsxs(e.Fragment,{children:[e.jsxs(m,{spacing:3,children:[e.jsx(r,{name:"username",label:"Username",value:d,onChange:s=>w(s.target.value)}),e.jsx(r,{name:"email",label:"Email address",value:l,onChange:s=>v(s.target.value)}),e.jsx(r,{name:"password",label:"Password",type:a?"text":"password",value:o,onChange:s=>C(s.target.value),InputProps:{endAdornment:e.jsx(f,{position:"end",children:e.jsx(g,{onClick:()=>h(!a),edge:"end",children:e.jsx(x,{icon:a?"eva:eye-fill":"eva:eye-off-fill"})})})}}),e.jsx(r,{name:"passwordConfirm",label:"Confirm Password",type:a?"text":"password",value:i,onChange:s=>S(s.target.value),InputProps:{endAdornment:e.jsx(f,{position:"end",children:e.jsx(g,{onClick:()=>h(!a),edge:"end",children:e.jsx(x,{icon:a?"eva:eye-fill":"eva:eye-off-fill"})})})}})]}),e.jsx(O,{fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"inherit",onClick:U,children:"Signup"})]});return e.jsxs(A,{sx:{...W({color:G(k.palette.background.default,.9),imgUrl:"/assets/background/overlay_4.jpg"}),height:1},children:[e.jsx(H,{sx:{position:"fixed",top:{xs:16,md:24},left:{xs:16,md:24}}}),e.jsx(m,{alignItems:"center",justifyContent:"center",sx:{height:1},children:e.jsxs(V,{sx:{p:5,width:1,maxWidth:420},children:[e.jsx(M,{variant:"h4",children:"Signup in to Dashboard"}),B]})})]})}function se(){return e.jsxs(e.Fragment,{children:[e.jsx(q,{children:e.jsx("title",{children:" SignUp | Dashboard "})}),e.jsx(_,{})]})}export{se as default};
