import{r as n,D,E as F,v as T,F as R,q as A,G as W,j as e,B as G,H,o as M,L as N,S as m,T as q,J as x,K as g,M as z,W as J}from"./index-CFyAmOhw.js";import{a as K,C as V,T as r,I as f,L as _}from"./InputAdornment-DA6OPu1N.js";import{B as j}from"./react-toastify.esm-B4KUd5A9.js";import{C as O}from"./Card-CH3P47np.js";function Q(){const[d,w]=n.useState(""),[l,v]=n.useState(""),[o,C]=n.useState(""),[i,S]=n.useState(""),y=D(),b=F(),[P,{isLoading:I}]=K(),{userInfo:c}=T(s=>s==null?void 0:s.auth),{search:L}=R(),k=new URLSearchParams(L).get("redirect")||"/";n.useEffect(()=>{c&&u.push("/dashboard")},[b,k,c]);const E=A(),u=W(),[a,h]=n.useState(!1),U=async s=>{var p;if(s.preventDefault(),o!==i)j.error("Passwords do not match");else try{const t=await P({username:d,email:l,password:o,passwordConfirm:i}).unwrap();y(z({...t})),u.push("/dashboard")}catch(t){j.error(((p=t==null?void 0:t.data)==null?void 0:p.message)||t.error)}};if(I)return e.jsx(V,{});const B=e.jsxs(e.Fragment,{children:[e.jsxs(m,{spacing:3,children:[e.jsx(r,{name:"username",label:"Username",value:d,onChange:s=>w(s.target.value)}),e.jsx(r,{name:"email",label:"Email address",value:l,onChange:s=>v(s.target.value)}),e.jsx(r,{name:"password",label:"Password",type:a?"text":"password",value:o,onChange:s=>C(s.target.value),InputProps:{endAdornment:e.jsx(f,{position:"end",children:e.jsx(x,{onClick:()=>h(!a),edge:"end",children:e.jsx(g,{icon:a?"eva:eye-fill":"eva:eye-off-fill"})})})}}),e.jsx(r,{name:"passwordConfirm",label:"Confirm Password",type:a?"text":"password",value:i,onChange:s=>S(s.target.value),InputProps:{endAdornment:e.jsx(f,{position:"end",children:e.jsx(x,{onClick:()=>h(!a),edge:"end",children:e.jsx(g,{icon:a?"eva:eye-fill":"eva:eye-off-fill"})})})}})]}),e.jsx(_,{fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"inherit",onClick:U,children:"Signup"})]});return e.jsxs(G,{sx:{...H({color:M(E.palette.background.default,.9),imgUrl:"/assets/background/overlay_4.jpg"}),height:1},children:[e.jsx(N,{sx:{position:"fixed",top:{xs:16,md:24},left:{xs:16,md:24}}}),e.jsx(m,{alignItems:"center",justifyContent:"center",sx:{height:1},children:e.jsxs(O,{sx:{p:5,width:1,maxWidth:420},children:[e.jsx(q,{variant:"h4",children:"Signup in to Dashboard"}),B]})})]})}function se(){return e.jsxs(e.Fragment,{children:[e.jsx(J,{children:e.jsx("title",{children:" SignUp | Dashboard "})}),e.jsx(Q,{})]})}export{se as default};
